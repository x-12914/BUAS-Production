{"ast":null,"code":"/**\n * Analyst Dashboard Component\n * BUAS RBAC Implementation - Segment 7: Dashboard Role Modifications\n * \n * Restricted view for Analyst role:\n * - Only shows assigned devices\n * - Cannot control recordings\n * - Has access to audio/location data for assigned devices only\n * - No user management access\n */import React,{useState}from'react';import UserList from'./UserList';import DashboardMap from'./DashboardMap';import ApiService from'../services/api';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AnalystDashboard=_ref=>{let{user,dashboardData,loading,selectedUser,onUserSelect}=_ref;const[activeTab,setActiveTab]=useState('devices');// Since backend filtering is now implemented, use dashboardData.users directly\n// The backend filter_devices_by_access function handles analyst device filtering\nconst assignedDevices=(dashboardData===null||dashboardData===void 0?void 0:dashboardData.users)||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"analyst-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='devices'?'active':''),onClick:()=>setActiveTab('devices'),children:\"\\uD83D\\uDCF1 My Assigned Devices\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab==='map'?'active':''),onClick:()=>setActiveTab('map'),children:\"\\uD83D\\uDDFA\\uFE0F Location Map (Assigned)\"})]}),activeTab==='devices'&&/*#__PURE__*/_jsx(\"div\",{className:\"analyst-devices\",children:assignedDevices.length===0&&!loading?/*#__PURE__*/_jsxs(\"div\",{className:\"no-assignments\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"no-assignments-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Devices Assigned\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You currently have no devices assigned to you.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Contact your supervisor to request device assignments.\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(UserList,{users:assignedDevices,loading:loading,selectedUser:selectedUser,onUserSelect:onUserSelect,roleRestrictions:{hideRecordingControls:true,showAssignmentInfo:true,restrictedAccess:true}})})}),activeTab==='map'&&/*#__PURE__*/_jsxs(\"div\",{className:\"analyst-map\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"map-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-banner\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Showing location data for your assigned devices only\"})]})}),/*#__PURE__*/_jsx(DashboardMap,{devices:assignedDevices,restrictedView:true})]})]});};export default AnalystDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}